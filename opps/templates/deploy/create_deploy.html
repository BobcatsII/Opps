{% extends 'base.html' %}

{% block title %}Add Deploy{% endblock %}

{% block content %}
<script language="javascript" type="text/javascript">
function choiceApp()
{
    document.getElementById("deploy_type-0").checked=true;
    document.getElementById("deploy_type-1").checked=false;
    // 显示APP消费信息
    for(var i=0; i<document.getElementsByName("app").length;i++)
    {
        document.getElementsByName("app").item(i).style.display="table-row";
    }
    // 隐藏CONF消费信息
    for(var i=0; i<document.getElementsByName("conf").length;i++)
    {
        document.getElementsByName("conf").item(i).style.display="none";
    }
}

function choiceConf()
{
    document.getElementById("deploy_type-0").checked=false;
    document.getElementById("deploy_type-1").checked=true;
    // 隐藏APP消费信息
    for(var i=0; i<document.getElementsByName("app").length;i++)
    {
        document.getElementsByName("app").item(i).style.display="none";
    }
    // 显示CONF消费信息
    for(var i=0; i<document.getElementsByName("conf").length;i++)
    {
        document.getElementsByName("conf").item(i).style.display="table-row";
    }
}

</script>


<div class="row">
    <div class="row">
    <div class="box col-md-8">
        <div class="box-inner">
            <div class="box-header well" data-original-title="">
                <h3><i class="glyphicon glyphicon-user"></i>新增部署</h3>
                <div class="box-icon">
                </div>
            </div>
            <div class="box-content">
            <a class="btn btn-info btn-bg" href="/deploy">返回</a><p/>
            <form  action="" method="post" class="form" role="form">
                {{ form.csrf_token }}
                <table width="100%" border="1" class="table table-bordered">
                <tbody>
                    <tr>
                        <td width="10%" border="1" align="center">项目类型</td>
                        <td>
                            <div class="radio" id="deploy_type">
                                <label>
                                    <input type="radio" name="deploy_type" id="deploy_type-0" value="app"  checked="checked" onclick="choiceApp();">APP服务
                                </label><br/>
                                <label>
                                    <input type="radio" name="deploy_type" id="deploy_type-1" value="conf" onclick="choiceConf();">CONF配置
                                </label>
                            </div> 
                        </td>
                    </tr>
                    <tr name="app">
                        <td width="10%" border="1" align="center">项目名称</td>
                        <td>
                           {{form.deploy_project_app}}
                        </td>
                    </tr>
                    <tr name="conf">
                        <td width="10%" border="1" align="center">项目名称</td>
                        <td>
                           {{form.deploy_project_conf}}
                        </td>
                    </tr>
                    <tr>
<!--
                    <tr name="app">
                        <td width="10%" border="1" align="center">目标主机</td>
                        <td>
                            {{form.deploy_host}}
                        </td>
                    </tr>
                    <tr name="conf">
                        <td width="10%" border="1" align="center">目标主机</td>
                        <td>
                            {{form.deploy_host}}
                        </td>
                    </tr>
-->
                    <tr name="app">
                        <td width="10%" border="1" align="center">项目版本</td>
                        <td>
                            {{form.deploy_version_app}}
                        </td>
                    </tr> 
                    <tr name="conf">
                        <td width="10%" border="1" align="center">项目版本</td>
                        <td>
                            {{form.deploy_version_conf}}
                        </td>
                    </tr>
                    <tr>
                        <td width="10%" border="1" align="center">部署人员</td>
                        <td>
                            {{form.deploy_user}}
                        </td>
                    </tr>
                </tbody>
                </table><br/>
                {{ form.submit(class="btn btn-setting btn-primary")}}
            </form>
           </div>
        </div>
    </div>
    </div>
</div>
{% endblock %}

